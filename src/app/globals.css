@import "tailwindcss";

/* Tailwind v4: CSS-first theme tokens */
:root {
  /* Core surfaces */
  --color-background: oklch(0 0 0);               /* true black */
  --color-foreground: oklch(0.98 0 0);            /* near-white */

  --color-surface: oklch(0.16 0 0);               /* card base */
  --color-surface-2: oklch(0.20 0 0);             /* raised surface */
  --color-muted: oklch(0.22 0 0);                 /* bars/fills */
  --color-border: oklch(0.28 0 0);                /* hairline borders */

  --color-muted-foreground: oklch(0.70 0 0);

  /* Accents */
  --color-primary: oklch(0.72 0.18 275);          /* violet/indigo */
  --color-primary-foreground: oklch(0.98 0 0);

  --color-success: oklch(0.72 0.17 152);
  --color-warning: oklch(0.78 0.17 80);
  --color-danger: oklch(0.67 0.22 25);

  /* Typography */
  --font-sans: var(--font-inter);

  /* Radius */
  --radius-sm: 0.75rem;
  --radius-md: 1rem;
  --radius-lg: 1.25rem;
  --radius-xl: 1.5rem;
}

:root {
  --ease-snappy: cubic-bezier(0.2, 0.9, 0.2, 1);
}

@layer base {
  html {
    color-scheme: dark;
  }

  body {
    background: var(--color-background);
  }

  /* Global multi-glow backdrop (BrainLoom-style) */
  body::before {
    content: "";
    position: fixed;
    inset: -20%;
    z-index: -2;
    pointer-events: none;

    background:
      radial-gradient(900px 600px at 50% -8%, rgba(124, 58, 237, 0.32), transparent 62%),
      radial-gradient(780px 520px at 12% 30%, rgba(59, 130, 246, 0.16), transparent 60%),
      radial-gradient(820px 560px at 88% 36%, rgba(34, 197, 94, 0.12), transparent 62%),
      radial-gradient(980px 700px at 70% 110%, rgba(244, 63, 94, 0.10), transparent 64%);
    transform: translateZ(0);
  }

  /* Subtle grain (no asset needed) */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
    opacity: 0.06;
    mix-blend-mode: overlay;

    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
    background-size: 240px 240px;
  }

  * {
    border-color: color-mix(in oklab, var(--color-border) 80%, transparent);
  }

  ::selection {
    background: color-mix(in oklab, var(--color-primary) 45%, transparent);
  }
}

/* Premium hover glow system (used by GlowCard) */
@layer utilities {
  .glow-card {
    --glow-x: 50%;
    --glow-y: 50%;
    --glow-opacity: 0;
    --glow-rgb: 124 58 237; /* default violet */

    position: relative;
    overflow: hidden;
    isolation: isolate;
  }

  .glow-card::before {
    content: "";
    position: absolute;
    inset: -1px;
    pointer-events: none;
    z-index: 0;
    opacity: var(--glow-opacity);
    transition: opacity 220ms var(--ease-snappy);

    background:
      radial-gradient(
        600px circle at var(--glow-x) var(--glow-y),
        rgba(var(--glow-rgb) / 0.35),
        transparent 60%
      );
  }

  .glow-card > * {
    position: relative;
    z-index: 1;
  }
}